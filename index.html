<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VerbalOpo - Entrena tu mente</title>
    
    <!-- TAILWIND CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- REACT & REACT DOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- BABEL -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- ESTILOS PERSONALIZADOS Y FUENTES -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; overscroll-behavior: none; }
        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        .slide-up { animation: slideUp 0.5s ease-out forwards; }
        
        /* Animaciones */
        .float-slow { animation: float 4s ease-in-out infinite; }
        .float-medium { animation: float 3s ease-in-out 1s infinite; }
        .float-fast { animation: float 3.5s ease-in-out 0.5s infinite; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes float { 
            0% { transform: translateY(0px); } 
            50% { transform: translateY(-5px); } 
            100% { transform: translateY(0px); } 
        }
        
        .bg-verbalopo {
            background: linear-gradient(180deg, #F3F4F6 0%, #FFFFFF 100%);
        }
        
        /* Scrollbar oculto para limpieza visual */
        ::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 h-screen w-screen overflow-hidden selection:bg-blue-100">

    <div id="root" class="h-full w-full"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ILUSTRACIN PORTADA (Estilo original) ---
        const CustomPhoneIllustration = () => (
            <div className="relative w-56 h-56 mx-auto mt-2 mb-4">
                <svg viewBox="0 0 300 300" className="w-full h-full drop-shadow-lg">
                    {/* Tel茅fono */}
                    <rect x="65" y="20" width="170" height="260" rx="25" fill="none" stroke="#1E293B" strokeWidth="7" />
                    <path d="M110 20 L110 32 Q110 40 120 40 L180 40 Q190 40 190 32 L190 20" fill="#1E293B" />

                    {/* Burbujas Flotantes */}
                    <g className="float-fast">
                        <rect x="170" y="35" width="90" height="36" rx="18" fill="#60A5FA" />
                        <path d="M200 70 L205 80 L215 70 Z" fill="#60A5FA" />
                        <text x="215" y="58" textAnchor="middle" fill="white" fontSize="16" fontWeight="bold" fontFamily="sans-serif">Alifafe</text>
                    </g>
                    <g className="float-slow">
                        <rect x="15" y="60" width="110" height="46" rx="23" fill="#FB923C" />
                        <path d="M85 100 L90 110 L100 100 Z" fill="#FB923C" />
                        <text x="70" y="92" textAnchor="middle" fill="white" fontSize="24" fontWeight="bold" fontFamily="sans-serif">谩cido</text>
                    </g>
                    <g className="float-medium">
                        <rect x="135" y="90" width="130" height="42" rx="21" fill="#2563EB" />
                        <text x="200" y="118" textAnchor="middle" fill="white" fontSize="20" fontWeight="bold" fontFamily="sans-serif">escueto</text>
                    </g>
                    <g className="float-fast">
                        <rect x="65" y="145" width="130" height="42" rx="21" fill="#1E293B" />
                        <text x="130" y="173" textAnchor="middle" fill="white" fontSize="20" fontWeight="bold" fontFamily="sans-serif">somero</text>
                    </g>
                    <g className="float-slow">
                        <rect x="105" y="210" width="80" height="40" rx="20" fill="#FB923C" />
                        <path d="M135 220 L155 240 M155 220 L135 240" stroke="white" strokeWidth="3" strokeLinecap="round" />
                    </g>
                    <g className="float-medium">
                        <circle cx="215" cy="180" r="18" fill="#10B981" stroke="white" strokeWidth="2" />
                        <path d="M207 180 L212 185 L224 173" fill="none" stroke="white" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" />
                    </g>
                </svg>
            </div>
        );

        // --- ICONOS SVG ---
        const IconTimer = () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"><line x1="10" x2="14" y1="2" y2="2"/><line x1="12" x2="15" y1="14" y2="11"/><circle cx="12" cy="14" r="8"/></svg>;
        const IconCheck = () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>;
        const IconX = () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>;
        const IconHome = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>;
        const IconChevronRight = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>;

        // --- BASE DE DATOS ---
        const questionsDatabase = [
            {
                id: 1,
                question: "Se帽ale qu茅 palabra corresponde a la siguiente definici贸n: \"Manantial que brota de la tierra.\"",
                options: [
                    { id: 'a', text: "Fontana" },
                    { id: 'b', text: "Riachuelo" },
                    { id: 'c', text: "Caudal" },
                    { id: 'd', text: "Pechina" }
                ],
                correctAnswer: 'a',
                explanation: "La respuesta correcta es la a) Fontana. La RAE define fontana simplemente como \"Perteneciente a la fuente\" o como \"manantial de agua que brota de la tierra\", coincidiendo exactamente con el enunciado."
            },
            {
                id: 2,
                question: "Se帽ale qu茅 definici贸n es la que se corresponde con la palabra ENERVAR.",
                options: [
                    { id: 'a', text: "Menoscabar, disminuir algo no material." },
                    { id: 'b', text: "Poner nervioso." },
                    { id: 'c', text: "Estar subordinado a alguien o algo." },
                    { id: 'd', text: "Echar a perder cualquier asunto. " }
                ],
                correctAnswer: 'b',
                explanation: "Enervar: Poner nervioso, excitar, airar. En el contexto de oposiciones, suele buscarse esta acepci贸n frente a 'debilitar'."
            },
            {
                id: 3,
                question: "Se帽ale cu谩l es el sin贸nimo de la palabra ACERBO.",
                options: [
                    { id: 'a', text: "Alegre" },
                    { id: 'b', text: "Fam茅lico" },
                    { id: 'c', text: "Fat铆dico" },
                    { id: 'd', text: "Desapacible" }
                ],
                correctAnswer: 'd',
                explanation: "Acerbo significa 谩spero al gusto o cruel/riguroso de genio. Desapacible es su sin贸nimo m谩s cercano."
            },
            {
                id: 4,
                question: "Se帽ale el ant贸nimo de: EFMERO",
                options: [
                    { id: 'a', text: "Fugaz" },
                    { id: 'b', text: "Duradero" },
                    { id: 'c', text: "Pasajero" },
                    { id: 'd', text: "Breve" }
                ],
                correctAnswer: 'b',
                explanation: "Ef铆mero es algo de corta duraci贸n. Duradero es lo opuesto."
            }
        ];

        function App() {
            const [screen, setScreen] = useState('welcome');
            const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
            const [selectedOption, setSelectedOption] = useState(null);
            const [isAnswered, setIsAnswered] = useState(false);
            const [score, setScore] = useState(0);
            const [timeLeft, setTimeLeft] = useState(30);

            useEffect(() => {
                if (screen !== 'quiz' || isAnswered) return;
                const timer = setInterval(() => {
                    setTimeLeft((prev) => {
                        if (prev <= 1) {
                            setIsAnswered(true);
                            return 0;
                        }
                        return prev - 1;
                    });
                }, 1000);
                return () => clearInterval(timer);
            }, [currentQuestionIndex, screen, isAnswered]);

            const startQuiz = () => {
                setScreen('quiz');
                setCurrentQuestionIndex(0);
                setScore(0);
                setIsAnswered(false);
                setSelectedOption(null);
                setTimeLeft(30);
            };

            const goHome = () => {
                setScreen('welcome');
            };

            const handleOptionSelect = (optionId) => {
                if (isAnswered) return;
                setSelectedOption(optionId);
                setIsAnswered(true);
                if (optionId === questionsDatabase[currentQuestionIndex].correctAnswer) {
                    setScore(score + 1);
                }
            };

            const nextQuestion = () => {
                if (currentQuestionIndex < questionsDatabase.length - 1) {
                    setCurrentQuestionIndex(currentQuestionIndex + 1);
                    setSelectedOption(null);
                    setIsAnswered(false);
                    setTimeLeft(30);
                } else {
                    setScreen('results');
                }
            };

            // --- PANTALLA 1: PORTADA ---
            if (screen === 'welcome') {
                return (
                    <div className="h-full w-full bg-verbalopo flex flex-col items-center justify-start pt-8 p-4 relative overflow-hidden">
                        
                        <div className="w-full max-w-sm text-center z-10 slide-up flex flex-col items-center justify-start gap-2">
                            <h1 className="text-5xl font-extrabold text-slate-800 mb-1 tracking-tight">VerbalOpo</h1>
                            
                            <div className="px-4 leading-tight">
                                <p className="text-lg text-slate-600 font-semibold">
                                    La diferencia entre dudar y acertar est谩 en tu entrenamiento. Potencia tu verbal.
                                </p>
                            </div>

                            <CustomPhoneIllustration />

                            <div className="mt-4">
                                <button 
                                    onClick={startQuiz}
                                    className="bg-blue-600 hover:bg-blue-700 text-white text-lg font-bold py-3 px-10 rounded-full shadow-xl shadow-blue-200/50 transform transition active:scale-95"
                                >
                                    Empezar a practicar
                                </button>
                            </div>

                            <div className="mt-6 text-[10px] text-slate-400 font-medium uppercase tracking-widest">
                                (c) Manu Sansano
                            </div>
                        </div>
                    </div>
                );
            }

            // --- PANTALLA 2: RESULTADOS ---
            if (screen === 'results') {
                return (
                    <div className="h-full w-full bg-verbalopo flex flex-col items-center justify-center p-6 fade-in">
                        <div className="bg-white rounded-3xl shadow-lg p-8 w-full max-w-sm text-center border border-slate-100">
                            <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span className="text-3xl"></span>
                            </div>
                            <h2 className="text-2xl font-bold text-slate-800 mb-1">隆Test Finalizado!</h2>
                            <p className="text-sm text-slate-500 mb-6">Aqu铆 tienes tu puntuaci贸n final</p>
                            
                            <div className="flex items-baseline justify-center gap-1 mb-8">
                                <span className="text-6xl font-black text-blue-600 tracking-tighter">{score}</span>
                                <span className="text-xl text-slate-400 font-medium">/ {questionsDatabase.length}</span>
                            </div>
                            
                            <button onClick={startQuiz} className="w-full bg-slate-900 text-white py-3.5 rounded-xl font-bold mb-3 shadow-lg active:scale-95 transition-transform">
                                Repetir Test
                            </button>
                            <button onClick={goHome} className="w-full bg-white text-slate-500 border-2 border-slate-100 py-3.5 rounded-xl font-bold hover:bg-slate-50 active:scale-95 transition-transform">
                                Volver al Inicio
                            </button>
                        </div>
                    </div>
                );
            }

            // --- PANTALLA 3: QUIZ (Compactado Final) ---
            const currentQuestion = questionsDatabase[currentQuestionIndex];
            return (
                <div className="h-full w-full bg-slate-50 flex flex-col items-center font-sans fade-in">
                    
                    {/* Header */}
                    <div className="w-full max-w-md bg-white shadow-sm z-10 px-4 py-3 flex items-center justify-between shrink-0">
                        <button onClick={goHome} className="p-2 -ml-2 rounded-full hover:bg-slate-100 text-slate-400 hover:text-slate-600 transition-colors">
                            <IconHome />
                        </button>
                        <span className="text-xl font-black text-slate-700 tracking-wide">VERBALOPO</span>
                        
                        <div className={`flex items-center gap-1 px-2.5 py-1 rounded-full font-mono font-bold text-sm ${timeLeft < 10 ? 'bg-red-50 text-red-500' : 'bg-slate-100 text-slate-600'}`}>
                            <IconTimer /> {timeLeft}s
                        </div>
                    </div>

                    {/* Contenido */}
                    <div className="w-full max-w-md flex-1 overflow-y-auto p-4 flex flex-col">
                        
                        <div className="mb-3">
                            <span className="inline-block px-3 py-1 bg-blue-100 text-blue-700 text-[10px] font-extrabold rounded-full tracking-wider">
                                PREGUNTA {currentQuestionIndex + 1} DE {questionsDatabase.length}
                            </span>
                        </div>
                        
                        <h3 className="text-lg font-bold text-slate-800 leading-snug mb-5">
                            {currentQuestion.question}
                        </h3>

                        {/* Opciones: Reducido margen inferior a mb-2 */}
                        <div className="space-y-2.5 mb-2">
                            {currentQuestion.options.map((option) => {
                                const isSelected = selectedOption === option.id;
                                const isCorrect = option.id === currentQuestion.correctAnswer;
                                
                                let containerClass = "border border-slate-200 bg-white shadow-sm hover:border-blue-300";
                                let textClass = "text-slate-600 font-medium";
                                let circleClass = "bg-slate-100 text-slate-400 font-bold";
                                let circleContent = option.id.toUpperCase();

                                if (isAnswered) {
                                    if (isCorrect) {
                                        containerClass = "border-green-200 bg-green-50 ring-1 ring-green-200";
                                        textClass = "text-green-800 font-semibold";
                                        circleClass = "bg-green-500 text-white";
                                        circleContent = <IconCheck />;
                                    } else if (isSelected && !isCorrect) {
                                        containerClass = "border-red-200 bg-red-50 ring-1 ring-red-200";
                                        textClass = "text-red-800";
                                        circleClass = "bg-red-500 text-white";
                                        circleContent = <IconX />;
                                    } else {
                                        containerClass = "border-slate-100 opacity-50 bg-slate-50";
                                    }
                                } else if (isSelected) {
                                    containerClass = "border-blue-500 bg-blue-50 ring-1 ring-blue-500";
                                    textClass = "text-blue-900 font-semibold";
                                    circleClass = "bg-blue-500 text-white";
                                }

                                return (
                                    <button
                                        key={option.id}
                                        onClick={() => handleOptionSelect(option.id)}
                                        disabled={isAnswered}
                                        className={`w-full text-left py-2.5 px-3 rounded-xl transition-all duration-200 flex items-center gap-3 active:scale-[0.99] ${containerClass}`}
                                    >
                                        <div className={`w-7 h-7 rounded-full flex items-center justify-center text-xs shrink-0 transition-colors ${circleClass}`}>
                                            {circleContent}
                                        </div>
                                        <span className={`text-base leading-tight ${textClass}`}>{option.text}</span>
                                    </button>
                                );
                            })}
                        </div>

                        {isAnswered && (
                            // Explicaci贸n y Bot贸n: Reducido margen superior (mt-1) y ajustado bot贸n
                            <div className="mt-1 pt-2 slide-up">
                                <div className="bg-white p-4 rounded-xl border border-slate-200 shadow-sm mb-3">
                                    <div className="flex gap-2.5">
                                        <div className="mt-0.5 text-blue-500 shrink-0"><IconCheck /></div>
                                        <div>
                                            <p className="text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1">Explicaci贸n</p>
                                            <p className="text-sm text-slate-600 leading-relaxed">{currentQuestion.explanation}</p>
                                        </div>
                                    </div>
                                </div>
                                
                                {/* Bot贸n ajustado al texto, centrado y menos alto */}
                                <div className="flex justify-center">
                                    <button 
                                        onClick={nextQuestion}
                                        className="bg-blue-600 text-white font-bold py-3 px-8 rounded-full shadow-lg shadow-blue-200 active:bg-blue-700 active:scale-[0.98] transition-all flex items-center gap-2"
                                    >
                                        {currentQuestionIndex < questionsDatabase.length - 1 ? 'Siguiente Pregunta' : 'Ver Resultados'}
                                        <IconChevronRight />
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
