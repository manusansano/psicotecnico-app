<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VerbalOpo - Entrena tu mente</title>
    
    <!-- TAILWIND CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- REACT & REACT DOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- BABEL -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- ESTILOS PERSONALIZADOS Y FUENTES -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; overscroll-behavior: none; }
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        .slide-up { animation: slideUp 0.6s ease-out forwards; }
        .float-slow { animation: float 4s ease-in-out infinite; }
        .float-medium { animation: float 3s ease-in-out 1s infinite; }
        .float-fast { animation: float 3.5s ease-in-out 0.5s infinite; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes float { 
            0% { transform: translateY(0px); } 
            50% { transform: translateY(-6px); } 
            100% { transform: translateY(0px); } 
        }
        
        .bg-verbalopo {
            background: linear-gradient(180deg, #E0E7FF 0%, #F0F9FF 50%, #FFFFFF 100%);
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 h-screen w-screen overflow-hidden">

    <div id="root" class="h-full w-full"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ILUSTRACI칍N (M치rgenes ajustados) ---
        const CustomPhoneIllustration = () => (
            <div className="relative w-64 h-64 mx-auto mt-2 mb-2">
                <svg viewBox="0 0 300 300" className="w-full h-full drop-shadow-xl">
                    {/* Silueta Tel칠fono */}
                    <rect x="60" y="20" width="180" height="260" rx="25" fill="none" stroke="#1F3A5F" strokeWidth="8" />
                    <path d="M110 20 L110 30 Q110 40 120 40 L180 40 Q190 40 190 30 L190 20" fill="#1F3A5F" />

                    {/* Elementos Flotantes */}
                    <g className="float-fast">
                        <rect x="175" y="35" width="100" height="40" rx="20" fill="#60A5FA" />
                        <path d="M200 75 L205 85 L215 75 Z" fill="#60A5FA" />
                        <text x="225" y="62" textAnchor="middle" fill="white" fontSize="18" fontWeight="bold" fontFamily="sans-serif">Alifafe</text>
                    </g>
                    
                    <g className="float-slow">
                        <rect x="10" y="60" width="120" height="50" rx="25" fill="#FDA65D" />
                        <path d="M90 105 L95 120 L105 105 Z" fill="#FDA65D" />
                        <text x="70" y="95" textAnchor="middle" fill="white" fontSize="28" fontWeight="bold" fontFamily="sans-serif">치cido</text>
                    </g>

                    <g className="float-medium">
                        <rect x="140" y="90" width="130" height="45" rx="22.5" fill="#2A6CD1" />
                        <text x="205" y="122" textAnchor="middle" fill="white" fontSize="22" fontWeight="bold" fontFamily="sans-serif">escueto</text>
                    </g>

                    <g className="float-fast">
                        <rect x="70" y="145" width="130" height="45" rx="22.5" fill="#1F3A5F" />
                        <text x="135" y="177" textAnchor="middle" fill="white" fontSize="22" fontWeight="bold" fontFamily="sans-serif">somero</text>
                    </g>

                    <g className="float-slow">
                        <rect x="110" y="210" width="90" height="45" rx="22.5" fill="#FDA65D" />
                        <path d="M145 222 L165 242 M165 222 L145 242" stroke="white" strokeWidth="4" strokeLinecap="round" />
                    </g>

                    <g className="float-medium">
                        <circle cx="220" cy="180" r="20" fill="#3F9E70" stroke="white" strokeWidth="2" />
                        <path d="M210 180 L216 186 L230 172" fill="none" stroke="white" strokeWidth="4" strokeLinecap="round" strokeLinejoin="round" />
                    </g>
                </svg>
            </div>
        );

        // --- ICONOS ---
        const IconTimer = () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="10" x2="14" y1="2" y2="2"/><line x1="12" x2="15" y1="14" y2="11"/><circle cx="12" cy="14" r="8"/></svg>;
        const IconCheck = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>;
        const IconX = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>;
        const IconHome = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>;

        // --- BASE DE DATOS ---
        const questionsDatabase = [
            {
                id: 1,
                question: "Se침ale qu칠 palabra corresponde a la siguiente definici칩n: \"Manantial que brota de la tierra.\"",
                options: [
                    { id: 'a', text: "Fontana" },
                    { id: 'b', text: "Riachuelo" },
                    { id: 'c', text: "Caudal" },
                    { id: 'd', text: "Pechina" }
                ],
                correctAnswer: 'a',
                explanation: "La respuesta correcta es la a) Fontana. Como experto en el l칠xico espa침ol, te confirmo que el Diccionario de la Real Academia Espa침ola (DLE) define fontana simplemente como \"Perteneciente a la fuente\", y a su vez, la primera acepci칩n de \"fuente\" es textualmente \"manantial de agua que brota de la tierra\", coincidiendo exactamente con el enunciado."
            },
            {
                id: 2,
                question: "Se침ale qu칠 definici칩n es la que se corresponde con la palabra ENERVAR.",
                options: [
                    { id: 'a', text: "Menoscabar, disminuir algo no material. MELLAR" },
                    { id: 'b', text: "Poner nervioso." },
                    { id: 'c', text: "Estar subordinado a alguien o algo." },
                    { id: 'd', text: "Echar a perder cualquier asunto. ESTROPEAR" }
                ],
                correctAnswer: 'b',
                explanation: "Enervar: Poner nervioso, excitar, airar. En el contexto de oposiciones, suele buscarse esta acepci칩n frente a 'debilitar'."
            },
            {
                id: 3,
                question: "Se침ale cu치l es el sin칩nimo de la palabra ACERBO.",
                options: [
                    { id: 'a', text: "Alegre" },
                    { id: 'b', text: "Fam칠lico" },
                    { id: 'c', text: "Fat칤dico" },
                    { id: 'd', text: "Desapacible" }
                ],
                correctAnswer: 'd',
                explanation: "Acerbo significa 치spero al gusto o cruel/riguroso de genio. Desapacible es su sin칩nimo m치s cercano."
            },
            {
                id: 4,
                question: "Se침ale el ant칩nimo de: EF칈MERO",
                options: [
                    { id: 'a', text: "Fugaz" },
                    { id: 'b', text: "Duradero" },
                    { id: 'c', text: "Pasajero" },
                    { id: 'd', text: "Breve" }
                ],
                correctAnswer: 'b',
                explanation: "Ef칤mero es algo de corta duraci칩n. Duradero es lo opuesto."
            }
        ];

        // --- APP ---
        function App() {
            const [screen, setScreen] = useState('welcome');
            const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
            const [selectedOption, setSelectedOption] = useState(null);
            const [isAnswered, setIsAnswered] = useState(false);
            const [score, setScore] = useState(0);
            const [timeLeft, setTimeLeft] = useState(30);

            useEffect(() => {
                if (screen !== 'quiz' || isAnswered) return;
                const timer = setInterval(() => {
                    setTimeLeft((prev) => {
                        if (prev <= 1) {
                            setIsAnswered(true);
                            return 0;
                        }
                        return prev - 1;
                    });
                }, 1000);
                return () => clearInterval(timer);
            }, [currentQuestionIndex, screen, isAnswered]);

            const startQuiz = () => {
                setScreen('quiz');
                setCurrentQuestionIndex(0);
                setScore(0);
                setIsAnswered(false);
                setSelectedOption(null);
                setTimeLeft(30);
            };

            const goHome = () => {
                setScreen('welcome');
            };

            const handleOptionSelect = (optionId) => {
                if (isAnswered) return;
                setSelectedOption(optionId);
                setIsAnswered(true);
                if (optionId === questionsDatabase[currentQuestionIndex].correctAnswer) {
                    setScore(score + 1);
                }
            };

            const nextQuestion = () => {
                if (currentQuestionIndex < questionsDatabase.length - 1) {
                    setCurrentQuestionIndex(currentQuestionIndex + 1);
                    setSelectedOption(null);
                    setIsAnswered(false);
                    setTimeLeft(30);
                } else {
                    setScreen('results');
                }
            };

            // --- PANTALLA PORTADA (COMPACTADA) ---
            if (screen === 'welcome') {
                return (
                    <div className="h-full w-full bg-verbalopo flex flex-col items-center justify-between p-4 relative overflow-hidden">
                        <div className="absolute top-[-50px] right-[-50px] w-40 h-40 bg-blue-100 rounded-full blur-3xl opacity-50"></div>
                        <div className="absolute bottom-[-50px] left-[-50px] w-60 h-60 bg-orange-100 rounded-full blur-3xl opacity-50"></div>

                        <div className="w-full max-w-sm text-center z-10 slide-up flex flex-col h-full justify-center py-2">
                            
                            {/* T칤tulo con menos margen */}
                            <h1 className="text-5xl font-extrabold text-slate-900 mb-2 tracking-tight">VerbalOpo</h1>
                            
                            {/* Frase m치s pegada al t칤tulo */}
                            <div className="px-4 mb-1">
                                <p className="text-lg text-slate-700 font-semibold leading-tight">
                                    La diferencia entre dudar y acertar est치 en tu entrenamiento. Potencia tu verbal.
                                </p>
                            </div>

                            {/* Ilustraci칩n (margen reducido en el componente) */}
                            <div className="flex-1 flex items-center justify-center min-h-0">
                                <CustomPhoneIllustration />
                            </div>

                            {/* Bot칩n m치s cerca de la ilustraci칩n */}
                            <div className="mt-4 px-4 flex justify-center">
                                <button 
                                    onClick={startQuiz}
                                    className="bg-blue-600 hover:bg-blue-700 text-white text-lg font-bold py-3 px-10 rounded-full shadow-xl shadow-blue-200 transform transition hover:-translate-y-1 active:scale-95"
                                >
                                    Empezar a practicar
                                </button>
                            </div>

                            <div className="mt-4 text-[11px] text-slate-400 font-medium">
                                (c) Manu Sansano
                            </div>
                        </div>
                    </div>
                );
            }

            // --- PANTALLA RESULTADOS ---
            if (screen === 'results') {
                return (
                    <div className="h-full w-full bg-verbalopo flex flex-col items-center justify-center p-6 fade-in">
                        <div className="bg-white rounded-3xl shadow-xl p-8 w-full max-w-sm text-center border border-slate-100">
                            <div className="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                                <span className="text-4xl">游끥</span>
                            </div>
                            <h2 className="text-2xl font-bold text-slate-800 mb-2">춰Test Finalizado!</h2>
                            <div className="flex items-end justify-center gap-2 mb-6">
                                <span className="text-6xl font-black text-blue-600">{score}</span>
                                <span className="text-xl text-slate-400 font-medium mb-2">/ {questionsDatabase.length}</span>
                            </div>
                            
                            <button onClick={startQuiz} className="w-full bg-slate-800 text-white py-4 rounded-xl font-bold mb-3 shadow-lg hover:bg-slate-900 transition-all">
                                Repetir Test
                            </button>
                            <button onClick={goHome} className="w-full bg-white text-slate-600 border-2 border-slate-200 py-4 rounded-xl font-bold hover:bg-slate-50 transition-all">
                                Volver al Inicio
                            </button>
                        </div>
                    </div>
                );
            }

            // --- PANTALLA QUIZ ---
            const currentQuestion = questionsDatabase[currentQuestionIndex];
            return (
                <div className="h-full w-full bg-slate-50 flex flex-col items-center pt-4 px-4 pb-4 font-sans fade-in">
                    <div className="w-full max-w-md flex justify-between items-center mb-4">
                        <button onClick={goHome} className="p-2 bg-white rounded-full shadow-sm text-slate-400 hover:text-blue-600 border border-slate-100">
                            <IconHome />
                        </button>
                        <div className="text-xs font-bold text-slate-400 tracking-widest uppercase">VerbalOpo</div>
                        <div className={`flex items-center gap-1 px-3 py-1 rounded-full font-mono font-bold text-sm border ${timeLeft < 10 ? 'bg-red-50 text-red-500 border-red-100' : 'bg-white text-slate-600 border-slate-200'}`}>
                            <IconTimer /> {timeLeft}s
                        </div>
                    </div>

                    <div className="w-full max-w-md bg-white rounded-3xl shadow-lg border border-slate-100 overflow-hidden flex flex-col h-full max-h-[650px]">
                        <div className="w-full h-2 bg-slate-100">
                            <div className="h-full bg-blue-500 transition-all duration-500 ease-out" style={{ width: `${((currentQuestionIndex + 1) / questionsDatabase.length) * 100}%` }}></div>
                        </div>

                        <div className="p-5 overflow-y-auto flex-1">
                            <span className="inline-block px-3 py-1 bg-blue-50 text-blue-600 text-xs font-extrabold rounded-full mb-4 tracking-wide">
                                PREGUNTA {currentQuestionIndex + 1} DE {questionsDatabase.length}
                            </span>
                            
                            {/* FUENTE REDUCIDA PARA M칍VIL */}
                            <h3 className="text-lg font-bold text-slate-800 leading-snug mb-6">
                                {currentQuestion.question}
                            </h3>

                            <div className="space-y-3">
                                {currentQuestion.options.map((option) => {
                                    const isSelected = selectedOption === option.id;
                                    const isCorrect = option.id === currentQuestion.correctAnswer;
                                    
                                    let containerClass = "border-2 border-slate-100 bg-white hover:border-blue-200";
                                    let textClass = "text-slate-600";
                                    let circleClass = "bg-slate-100 text-slate-400";

                                    if (isAnswered) {
                                        if (isCorrect) {
                                            containerClass = "border-green-500 bg-green-50";
                                            textClass = "text-green-800 font-bold";
                                            circleClass = "bg-green-500 text-white";
                                        } else if (isSelected && !isCorrect) {
                                            containerClass = "border-red-500 bg-red-50";
                                            textClass = "text-red-800 font-bold";
                                            circleClass = "bg-red-500 text-white";
                                        } else {
                                            containerClass = "border-slate-100 opacity-50";
                                        }
                                    } else if (isSelected) {
                                        containerClass = "border-blue-500 bg-blue-50 shadow-md";
                                        textClass = "text-blue-900 font-bold";
                                        circleClass = "bg-blue-500 text-white";
                                    }

                                    return (
                                        <button
                                            key={option.id}
                                            onClick={() => handleOptionSelect(option.id)}
                                            disabled={isAnswered}
                                            className={`w-full text-left p-3 rounded-2xl transition-all duration-200 flex items-center gap-4 ${containerClass}`}
                                        >
                                            <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold shrink-0 transition-colors ${circleClass}`}>
                                                {isAnswered && isCorrect ? <IconCheck /> : (isAnswered && isSelected && !isCorrect ? <IconX /> : option.id.toUpperCase())}
                                            </div>
                                            <span className={`text-base ${textClass}`}>{option.text}</span>
                                        </button>
                                    );
                                })}
                            </div>
                        </div>

                        {isAnswered && (
                            <div className="bg-slate-50 p-5 border-t border-slate-100 slide-up">
                                <div className="flex gap-3 mb-4 bg-white p-4 rounded-xl border border-slate-100 shadow-sm">
                                    <div className="mt-1 text-blue-500 shrink-0"><IconCheck /></div>
                                    <div>
                                        <p className="text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Explicaci칩n</p>
                                        <p className="text-sm text-slate-700 leading-relaxed">{currentQuestion.explanation}</p>
                                    </div>
                                </div>
                                <button 
                                    onClick={nextQuestion}
                                    className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-blue-200 transition-all transform active:scale-98 flex items-center justify-center gap-2"
                                >
                                    {currentQuestionIndex < questionsDatabase.length - 1 ? 'Siguiente Pregunta' : 'Ver Resultados'}
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>
                                </button>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
